<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.36.1" />
  <meta name="author" content="Sau-Chin Chen">
  <meta name="description" content="Associate Professor of Cognitive Psychology">

  
  <link rel="alternate" hreflang="en-us" href="http://scchen.com/en/post/2016-09-14-randomization-in-latin-square/">

  
  


  

  
  
  
  
    
  
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=source-han-sans-tw-light">
  
  <link rel="stylesheet" href="/en/styles.css">
  

  

  
  <link rel="alternate" href="http://scchen.com/index.xml" type="application/rss+xml" title="Sau-Chin Chen&#39;s Website">
  <link rel="feed" href="http://scchen.com/index.xml" type="application/rss+xml" title="Sau-Chin Chen&#39;s Website">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="http://scchen.com/en/post/2016-09-14-randomization-in-latin-square/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@SauChin_Chen">
  <meta property="twitter:creator" content="@SauChin_Chen">
  
  <meta property="og:site_name" content="Sau-Chin Chen&#39;s Website">
  <meta property="og:url" content="http://scchen.com/en/post/2016-09-14-randomization-in-latin-square/">
  <meta property="og:title" content="Randomization in Latin Square | Sau-Chin Chen&#39;s Website">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2016-09-14T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2016-09-14T00:00:00&#43;00:00">
  

  

  <title>Randomization in Latin Square | Sau-Chin Chen&#39;s Website</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/en/">Sau-Chin Chen&#39;s Website</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/en/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/en/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/en/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/en/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Randomization in Latin Square</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2016-09-14 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Wed, Sep 14, 2016
    </time>
  </span>

  

  
  
  <span class="middot-divider"></span>
  <a href="http://scchen.com/en/post/2016-09-14-randomization-in-latin-square/#disqus_thread"></a>
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/en/categories/practices">Practices</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Randomization%20in%20Latin%20Square&amp;url=http%3a%2f%2fscchen.com%2fen%2fpost%2f2016-09-14-randomization-in-latin-square%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fscchen.com%2fen%2fpost%2f2016-09-14-randomization-in-latin-square%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Randomization%20in%20Latin%20Square&amp;body=http%3a%2f%2fscchen.com%2fen%2fpost%2f2016-09-14-randomization-in-latin-square%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        <p>Iâ€™m managing an opensesame script for the coming project. In this project, there are four stimuli lists included all the within-participant conditions. I denote the four lists <strong>A</strong>, <strong>B</strong>, <strong>C</strong>, and <strong>D</strong>. A participant will have one of the stimuli lists in terms of the counter balanced principle. The best assignment method is 4X4 Latin Square. For every 16 participants, there are 24 sequences to be used. Here are three of the sequences.</p>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,] &quot;A&quot;  &quot;B&quot;  &quot;C&quot;  &quot;D&quot; 
## [2,] &quot;B&quot;  &quot;C&quot;  &quot;D&quot;  &quot;A&quot; 
## [3,] &quot;C&quot;  &quot;D&quot;  &quot;A&quot;  &quot;B&quot; 
## [4,] &quot;D&quot;  &quot;A&quot;  &quot;B&quot;  &quot;C&quot;</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,] &quot;C&quot;  &quot;D&quot;  &quot;A&quot;  &quot;B&quot; 
## [2,] &quot;D&quot;  &quot;A&quot;  &quot;B&quot;  &quot;C&quot; 
## [3,] &quot;A&quot;  &quot;B&quot;  &quot;C&quot;  &quot;D&quot; 
## [4,] &quot;B&quot;  &quot;C&quot;  &quot;D&quot;  &quot;A&quot;</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,] &quot;A&quot;  &quot;B&quot;  &quot;C&quot;  &quot;D&quot; 
## [2,] &quot;D&quot;  &quot;A&quot;  &quot;B&quot;  &quot;C&quot; 
## [3,] &quot;C&quot;  &quot;D&quot;  &quot;A&quot;  &quot;B&quot; 
## [4,] &quot;B&quot;  &quot;C&quot;  &quot;D&quot;  &quot;A&quot;</code></pre>
<p>If this experiment will recruit 32 participant, the first 16 and second 16 better obtain one of the 24 sequences in a pseudo randomization. On the other hand, I wish to reproduce this random sequence in the other place. The best way is to generate the randomization sequence in terms of a seed. Thanks to <a href="http://osdoc.cogsci.nl/">Opensesame</a>, I found the way to make this plan come true.</p>
<p>Opensesame is the open source experiment software. Because it is developed in <a href="https://www.python.org/">python</a>, the users are able to create the function based on their need. This program offers the object <strong>inline_script</strong> where the users put the python codes. I created the python codes to select the stimuli list from the file pool. You can use it before the program runs the object <strong>loop</strong> based on the list.</p>
<pre><code>### Get the subject number
nr = self.get(&#39;subject_nr&#39;)

### Generate a random sequence based the prior seed
### Defind seed by yourself
import random
SEED = 345

seq = [0,4,8,12]
random.seed(SEED)
random.shuffle(seq)

### Shift the subject numbers
### Push to the next sequence
if nr &lt;=16:
    nr += seq[0]
elif nr &gt; 16 &amp; nr &lt;= 32:
    nr += seq[1]
elif nr &gt; 32 &amp; nr &lt;= 48:
    nr += seq[2]
else:
    nr += seq[3]

### Assign the list in one Latin Squane
if (nr / 4) % 4 == 1:
    if nr % 4 == 0:
        lst = &#39;List01.csv&#39;
    elif nr % 4 == 1:
        lst = &#39;List02.csv&#39;
    elif nr % 4 == 2:
        lst = &#39;List03.csv&#39;
    else:
        lst = &#39;List04.csv&#39;
elif (nr / 4) % 4 == 2:
    if nr % 4 == 1:
        lst = &#39;List01.csv&#39;
    elif nr % 4 == 2:
        lst = &#39;List02.csv&#39;
    elif nr % 4 == 3:
        lst = &#39;List03.csv&#39;
    else:
        lst = &#39;List04.csv&#39;
elif (nr / 4) % 4 == 3:
    if nr % 4 == 2:
        lst = &#39;List01.csv&#39;
    elif nr % 4 == 3:
        lst = &#39;List02.csv&#39;
    elif nr % 4 == 0:
        lst = &#39;List03.csv&#39;
    else:
        lst = &#39;List04.csv&#39;
else:
    if nr % 4 == 3:
        lst = &#39;List01.csv&#39;
    elif nr % 4 == 0:
        lst = &#39;List02.csv&#39;
    elif nr % 4 == 1:
        lst = &#39;List03.csv&#39;
    else:
        lst = &#39;List04.csv&#39;

### Output [List] to the loop object
exp.set(&#39;List&#39;, lst)</code></pre>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/en/tags/experiment_design">Experiment_Design</a>
  
  <a class="btn btn-primary btn-outline" href="/en/tags/python">Python</a>
  
</div>



    </div>
  </div>

</article>





<div class="container article-widget">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="http://scchen.com/en/post/2016-05-31-why-we-need-a-readable-data-table-in-behavioral-scientific-research/"><span
      aria-hidden="true">&larr;</span> Why we need a readable data table in behavioral scientific research?</a></li>
    

    
    <li class="next"><a href="http://scchen.com/en/post/2017-05-05-templete-of-a-citable-blog-post/">Template of a citable blog post <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>


<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "scchen" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Sau-Chin Chen &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//scchen.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

